from helpers.get_currency_rate import get_currency_rate


def parse_txt_prompt(text, comment):
    currency_rate = get_currency_rate()
    prompt = f"""
    –î—ñ—è–π —è–∫ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ø–∞—Ä—Å–µ—Ä —ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –∑ –ø—Ä–æ–¥–∞–∂—É —Å–æ–Ω—è—á–Ω–∏—Ö –ø–∞–Ω–µ–ª–µ–π.

!!! –°–ê–ú–ï –ì–û–õ–û–í–ù–ï —Å–ø–æ—á–∞—Ç–∫—É –∑—Ä–æ–∑—É–º—ñ–π —á–∏ —î –¥–∞–Ω–∏–π —Ç–æ–≤–∞—Ä —Å–æ–Ω—è—á–Ω–æ—é –ø–∞–Ω–µ–ª–ª—é, —ñ —è–∫—â–æ –Ω—ñ —Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏ –π–æ–≥–æ

–∫—É—Ä—Å –¥–æ–ª–∞—Ä–∞: {currency_rate} - —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

–ø–µ—Ä—à –∑–∞ –≤—Å–µ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –≤ —è–∫—ñ–π –≤–∞–ª—é—Ç—ñ –∑–∞–ø–∏—Å–∞–Ω–∞ —Ü—ñ–Ω–∞ —è–∫—â–æ —Ü–µ –º–æ–∂–ª–∏–≤–æ

–ó —Ü—å–æ–≥–æ TXT-—Ñ—Ä–∞–≥–º–µ–Ω—Ç—É –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—Ç—è–≥–Ω–∏ –¥–∞–Ω—ñ –ø—Ä–æ —Å–æ–Ω—è—á–Ω—ñ –ø–∞–Ω–µ–ª—ñ —Ç–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏ —ó—Ö —É –º–∞—Å–∏–≤ JSON –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É:
{{
  "brand": brand,
  "power": power,
  "full_name": full_name,
  "price": price,
  "panel_type": panel_type,
  "cell_type": cell_type,
  "thickness": thickness,
  "panel_color": panel_color,
  "frame_color": frame_color,
  "price_per_w": price_per_w
}}

üìå –î–µ—Ç–∞–ª—ñ –ø–∞—Ä—Å–∏–Ω–≥—É:
- 'brand': –ø–æ–≤–µ—Ä–Ω–∏ –Ω–∞–∑–≤—É –±—Ä–µ–Ω–¥—É –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º
- `price`: —Ü—ñ–Ω–∞ –≤ –¥–æ–ª–∞—Ä–∞—Ö –°–®–ê (—è–∫—â–æ –±–∞—á–∏—à —â–æ —Ü—ñ–Ω–∞ –±—ñ–ª—å—à–∞ —è–∫ 2000 —Ç–æ —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ —Ü—ñ–Ω–∞ –≤–∫–∞–∑–∞–Ω–∞ –≤ –≥—Ä–∏–≤–Ω—è—Ö, —Ç–æ–¥—ñ –ø–µ—Ä–µ–≤–µ–¥–∏)
- `full_name`: –ø–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞ —Å–æ–Ω—è—á–Ω–æ—ó –ø–∞–Ω–µ–ª—ñ
- `power`: –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —É –í–∞—Ç–∞—Ö (–í—Ç/W)
- `panel_type`: —Ç–∏–ø –ø–∞–Ω–µ–ª—ñ - "–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è" –∞–±–æ "–¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è" (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)
- `cell_type`: —Ç–∏–ø –∫–æ–º—ñ—Ä–æ–∫ - "n-type" –∞–±–æ "p-type" (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)
- `thickness`: —Ç–æ–≤—â–∏–Ω–∞ –≤ –º—ñ–ª—ñ–º–µ—Ç—Ä–∞—Ö (–º–º) (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)
- `panel_color`: –∫–æ–ª—ñ—Ä –ø–∞–Ω–µ–ª—ñ - "Default" –∞–±–æ "All_Black" (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)
- `frame_color`: –∫–æ–ª—ñ—Ä —Ä–∞–º–∫–∏ - "silver" –∞–±–æ "black" (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)
- `price_per_w`: —Ü—ñ–Ω–∞ –∑–∞ –í—Ç/W (—è–∫—â–æ –Ω–µ–º–∞—î —Ç–æ None)

{comment if comment else ""}


–û—Å—å –¥–∞–Ω—ñ:
{text}

‚ùóÔ∏è–ü–æ–≤–µ—Ä–Ω–∏ –ª–∏—à–µ —á–∏—Å—Ç–∏–π JSON —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å. –ë–µ–∑ –∑–∞–π–≤–æ–≥–æ —Ç–µ–∫—Å—Ç—É.
"""
    return prompt